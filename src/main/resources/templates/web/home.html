<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      th:replace="~{fragments/layout-web :: layout (~{::main}, 'home')}">
<head>
    <title>Please Log In</title>
</head>
<body>
<main role="main" class="pb-3">
    <div class="row">
        <!--- menu left -->
        <div class="col-md-3 d-none d-md-block">
            <div class="card mb-2">
                <div class="card-header font-weight-bold bg-dark text-white">
                    Thể loại âm nhạc
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush" th:each="category : ${categories}">
                        <a th:href="@{/category/{id}(id=${category.id})}" class="list-group-item list-group-item-action" th:text="${category.name}"></a>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-header font-weight-bold bg-dark text-white">
                    Album
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush" th:each="album : ${albums}">
                        <a th:href="@{/album/{id}(id=${album.id})}" class="list-group-item list-group-item-action" th:text="${album.name}"></a>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-header font-weight-bold bg-dark text-white">
                    Singer
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush" th:each="singer : ${singers}">
                        <a th:href="@{/singer/{id}(id=${singer.id})}" class="list-group-item list-group-item-action" th:text="${singer.name}"></a>
                    </div>
                </div>
            </div>
        </div>
        <!-- Moi cap nhat -->
        <div class="col-md-6">
            <div class="card mb-2">
                <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
                        <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
                        <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="https://i.ytimg.com/vi/NtjD0UYJrW4/maxresdefault.jpg" class="d-block w-100" alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Cô gái năm 17 tuổi sẽ chẳng bao giờ ở bên bạn</h5>
<!--                                <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>-->
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="https://i.ytimg.com/vi/knW7-x7Y7RE/maxresdefault.jpg" class="d-block w-100" alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Mãi mãi bên anh</h5>
<!--                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>-->
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="https://tse4.mm.bing.net/th?id=OIP.hs4si2ld3zEOycdv3ZN4XwHaD4&pid=Api&P=0&w=294&h=154" class="d-block w-100" alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Chúng ta của hiện tại</h5>

                            </div>
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
            <div class="card shadow-sm mb-3">
                <div class="card-header">
                    Mới cập nhật
                </div>
                <div class="card-body">
                    <ul class="list-unstyled" th:each="song:${songs}">
                        <li class="media border-bottom py-2">
                            <div class="position-relative">
                                <a th:href="@{/music/{id}(id=${song.id})}">
                                    <img th:src="'./files/' + ${song.image}" class="mr-3 rounded" width="85" alt="...">
                                </a>
                                <img src="./assets/images/playing-s.gif" class="position-absolute" style="bottom: 5px; left: 5px;" alt="Playing">
                            </div>
                            <div class="media-body">
                                <h5 class="mt-0 mb-1" th:text="${song.name}"></h5>
                                <small th:text="${song.singer.name}"></small>
                            </div>
                            <a th:href="@{/music/{id}(id=${song.id})}" class="px-2 py-1 mr-2 bg-success text-white" title="Play"><i class="fas fa-play"></i></a>
                            <button type="button" th:onclick="|likeBtn(this, ${song.id})|" class="px-2 py-1 btn btn-danger text-white " song-id="1" title="Thích"><i class="far fa-heart"></i><span th:text="${song.getLikeCount()}"></span></button>
                        </li>
                    </ul>
                </div>

            </div>
        </div>
        <!-- BXH -->

        <div class="col-md-3">
            <div class="card">
                <div class="card-header">
                    Bảng xếp hạng
                    <button type="button" class="btn btn-success">Việt Nam</button>
                    <button type="button" class="btn btn-light">US/UK</button>
                    <button type="button" class="btn btn-light">Châu Á</button>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled" th:each="song, rowStat :${bxh}">
                        <li class="media border-bottom py-2">
                            <div class="position-relative">
                                <a th:href="@{/music/{id}(id=${song.id})}">
                                    <img th:src="'./files/' + ${song.image}" class="mr-3 rounded" width="85" alt="...">
                                </a>
                                <small class="position-absolute badge badge-dark text-white" style="bottom: 5px; left: 5px;" th:utext="'<i class=\'fas fa-eye\'></i> ' + ${song.views}">
                                </small>
                            </div>
                            <div class="media-body">
                                <h5 class="mt-0 mb-1" th:text="${song.name}"></h5>
                                <small th:text="${song.singer.name}"></small>
                            </div>
                            <div class="display-4 text-danger" th:text="${rowStat.count}"></div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</main>
</body>
</html>
